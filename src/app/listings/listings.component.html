<style>
  .update-button {
    background-color: #007BFF;
    color: #fff;
    padding: 5px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s;
    margin-right: 2px;
    font-size: small;
  }
  .update-button:hover {
    background-color: #0056b3;
  }
  .new-button {
    background-color: #007BFF;
    color: #fff;
    padding: 5px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s;
    margin: 10px;
    font-size: small;
  }
  .new-button:hover {
    background-color: #0056b3;
  }
  .content {
  display: flex;
    margin-top: 5%;
    padding-left: 7%;
    padding-right: 7%;
  width: 100%;
  flex-direction: column;
  align-items: center;
  }
  .image-container {
  position: relative;
  padding-top: 56.25%; /* 16:9 aspect ratio (9 / 16 * 100) */
  }
  
  .image-container img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  .cardtest{
  width:100%;
  min-height:100%;
  min-width: 30%;
  }
  .mat-mdc-card-header, .mat-mdc-card-content{
    padding: 0 !important;

  }
  .mat-mdc-card-header{
  margin-top: 10%;
  }
  .mat-mdc-card-actions{
  padding: 0 !important;
  }
</style>
<div class="content" *ngIf="properties && images">
  <button class="new-button" (click)="openPopUp()">Create new Listing</button>
  <div fxLayout="row wrap" fxLayoutGap="3% grid" style="width: 100%" >
    <div class="cardtest" fxFlex="0 1 25" *ngFor="let property of properties">
      <ng-container *ngIf="property.id && getImageUrls(property.id) && getImageUrls(property.id)[0] && getImageUrls(property.id)[0].src">
      <mat-card class="z-depth cardtest" style="border-radius: 15px; padding: 7.5%;">
        <c-carousel [interval]="0" >
          <c-carousel-inner style="border-radius: 15px;">
            <c-carousel-item  *ngFor="let image of getImageUrls(property.id)">
              <div class="image-container">
                <img
                  mat-card-image
                  style="border-radius: 15px;"
                  [src]="image.src"
                  alt="{{ property.details }}"
                  class="d-block w-100"
                  loading="lazy"
                />
                </div>
              </c-carousel-item>
            </c-carousel-inner>
            <c-carousel-indicators></c-carousel-indicators>
            <c-carousel-control [routerLink] caption="Previous" direction="prev"></c-carousel-control>
            <c-carousel-control [routerLink] caption="Next" direction="next"></c-carousel-control>
          </c-carousel>
          <mat-card-header>
            <mat-card-title style="color: #125699; font-size: medium">{{ property.address }}</mat-card-title>
          </mat-card-header>
          <mat-card-content style="-webkit-line-clamp: 4;" fxFlex="30">
            <div>
              <p>{{ property.details }}.</p>
            </div>
            <h2>
              {{ property.price }}$
            </h2>
          </mat-card-content>
          <mat-card-actions>
            <svg cIcon name="cilBed" size="xl" title="Bed Icons"></svg>
            <span style="margin-left: 8px; margin-right: 8px; font-size: 14px; font-weight: bold">{{property.nBedrooms}}</span>
            <svg cIcon name="cilBath" size="xl" title="Bath Icons"></svg>
            <span style="margin-left: 8px; margin-right: 8px; font-size: 14px; font-weight: bold">{{property.nBathrooms}}</span>
            <svg cIcon name="cilRoom" size="xl" title="Room Icons"></svg>
            <span style="margin-left: 8px; margin-right: 8px; font-size: 14px; font-weight: bold">{{property.nRooms}}</span>
            <button class="update-button" (click)="openUpdateListingForm(property)">Update</button>
            <button class="update-button" (click)="deleteListing(property.id)">Delete</button>
          </mat-card-actions>
        </mat-card>
      </ng-container>
    </div>
  </div>
  </div>
  